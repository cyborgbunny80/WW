{"ast":null,"code":"import _objectSpread from\"C:/Users/knwin/WhenWinApp10.25/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged}from'firebase/auth';import{auth}from'../firebase/config';import{createUserProfile,getUserProfile}from'./firebaseServices';export const signUp=async(email,password,name,city,state)=>{try{const userCredential=await createUserWithEmailAndPassword(auth,email,password);const userId=userCredential.user.uid;const userData={name,email,homeCity:city,homeState:state,avatar:\"https://ui-avatars.com/api/?name=\".concat(encodeURIComponent(name),\"&background=32a86b&color=fff\")};await createUserProfile(userId,userData);return _objectSpread({userId},userData);}catch(error){console.error('Sign up error:',error);throw error;}};export const logIn=async(email,password)=>{try{const userCredential=await signInWithEmailAndPassword(auth,email,password);const userId=userCredential.user.uid;const userData=await getUserProfile(userId);return _objectSpread({userId},userData);}catch(error){console.error('Login error:',error);throw error;}};export const logOut=async()=>{try{await signOut(auth);}catch(error){console.error('Logout error:',error);throw error;}};export const onAuthChange=callback=>{return onAuthStateChanged(auth,async user=>{if(user){const userData=await getUserProfile(user.uid);callback(_objectSpread({userId:user.uid},userData));}else{callback(null);}});};","map":{"version":3,"names":["createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","auth","createUserProfile","getUserProfile","signUp","email","password","name","city","state","userCredential","userId","user","uid","userData","homeCity","homeState","avatar","concat","encodeURIComponent","_objectSpread","error","console","logIn","logOut","onAuthChange","callback"],"sources":["C:/Users/knwin/WhenWinApp10.25/src/services/authService.js"],"sourcesContent":["import {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  onAuthStateChanged\r\n} from 'firebase/auth';\r\nimport { auth } from '../firebase/config';\r\nimport { createUserProfile, getUserProfile } from './firebaseServices';\r\n\r\nexport const signUp = async (email, password, name, city, state) => {\r\n  try {\r\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n    const userId = userCredential.user.uid;\r\n\r\n    const userData = {\r\n      name,\r\n      email,\r\n      homeCity: city,\r\n      homeState: state,\r\n      avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=32a86b&color=fff`\r\n    };\r\n\r\n    await createUserProfile(userId, userData);\r\n    return { userId, ...userData };\r\n  } catch (error) {\r\n    console.error('Sign up error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const logIn = async (email, password) => {\r\n  try {\r\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n    const userId = userCredential.user.uid;\r\n    const userData = await getUserProfile(userId);\r\n    return { userId, ...userData };\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const logOut = async () => {\r\n  try {\r\n    await signOut(auth);\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const onAuthChange = (callback) => {\r\n  return onAuthStateChanged(auth, async (user) => {\r\n    if (user) {\r\n      const userData = await getUserProfile(user.uid);\r\n      callback({ userId: user.uid, ...userData });\r\n    } else {\r\n      callback(null);\r\n    }\r\n  });\r\n};"],"mappings":"mHAAA,OACEA,8BAA8B,CAC9BC,0BAA0B,CAC1BC,OAAO,CACPC,kBAAkB,KACb,eAAe,CACtB,OAASC,IAAI,KAAQ,oBAAoB,CACzC,OAASC,iBAAiB,CAAEC,cAAc,KAAQ,oBAAoB,CAEtE,MAAO,MAAM,CAAAC,MAAM,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,IAAI,CAAEC,KAAK,GAAK,CAClE,GAAI,CACF,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAAb,8BAA8B,CAACI,IAAI,CAAEI,KAAK,CAAEC,QAAQ,CAAC,CAClF,KAAM,CAAAK,MAAM,CAAGD,cAAc,CAACE,IAAI,CAACC,GAAG,CAEtC,KAAM,CAAAC,QAAQ,CAAG,CACfP,IAAI,CACJF,KAAK,CACLU,QAAQ,CAAEP,IAAI,CACdQ,SAAS,CAAEP,KAAK,CAChBQ,MAAM,qCAAAC,MAAA,CAAsCC,kBAAkB,CAACZ,IAAI,CAAC,gCACtE,CAAC,CAED,KAAM,CAAAL,iBAAiB,CAACS,MAAM,CAAEG,QAAQ,CAAC,CACzC,OAAAM,aAAA,EAAST,MAAM,EAAKG,QAAQ,EAC9B,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,KAAK,CAAG,KAAAA,CAAOlB,KAAK,CAAEC,QAAQ,GAAK,CAC9C,GAAI,CACF,KAAM,CAAAI,cAAc,CAAG,KAAM,CAAAZ,0BAA0B,CAACG,IAAI,CAAEI,KAAK,CAAEC,QAAQ,CAAC,CAC9E,KAAM,CAAAK,MAAM,CAAGD,cAAc,CAACE,IAAI,CAACC,GAAG,CACtC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,cAAc,CAACQ,MAAM,CAAC,CAC7C,OAAAS,aAAA,EAAST,MAAM,EAAKG,QAAQ,EAC9B,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAG,MAAM,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAzB,OAAO,CAACE,IAAI,CAAC,CACrB,CAAE,MAAOoB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAI,YAAY,CAAIC,QAAQ,EAAK,CACxC,MAAO,CAAA1B,kBAAkB,CAACC,IAAI,CAAE,KAAO,CAAAW,IAAI,EAAK,CAC9C,GAAIA,IAAI,CAAE,CACR,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAX,cAAc,CAACS,IAAI,CAACC,GAAG,CAAC,CAC/Ca,QAAQ,CAAAN,aAAA,EAAGT,MAAM,CAAEC,IAAI,CAACC,GAAG,EAAKC,QAAQ,CAAE,CAAC,CAC7C,CAAC,IAAM,CACLY,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CAAC,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}