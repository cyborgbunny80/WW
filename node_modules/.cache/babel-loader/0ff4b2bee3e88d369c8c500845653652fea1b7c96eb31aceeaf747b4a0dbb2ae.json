{"ast":null,"code":"import _objectSpread from\"C:/Users/knwin/WhenWinApp10.25/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{collection,addDoc,query,where,getDocs,setDoc,deleteDoc,doc,getDoc}from'firebase/firestore';import{db}from'../firebase/config';// USERS\nexport const createUserProfile=async(userId,userData)=>{try{await setDoc(doc(db,'users',userId),{name:userData.name,email:userData.email,homeCity:userData.homeCity,homeState:userData.homeState,avatar:userData.avatar,createdAt:new Date()});}catch(error){console.error('Error creating user profile:',error);throw error;}};export const getUserProfile=async userId=>{try{const docSnap=await getDoc(doc(db,'users',userId));return docSnap.exists()?docSnap.data():null;}catch(error){console.error('Error getting user profile:',error);return null;}};// EVENTS\nexport const createEvent=async eventData=>{try{const docRef=await addDoc(collection(db,'events'),_objectSpread(_objectSpread({},eventData),{},{createdAt:new Date(),updatedAt:new Date()}));return docRef.id;}catch(error){console.error('Error creating event:',error);throw error;}};export const getEventsByLocation=async(city,state)=>{try{const q=query(collection(db,'events'),where('city','==',city),where('state','==',state));const querySnapshot=await getDocs(q);return querySnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));}catch(error){console.error('Error getting events:',error);return[];}};export const getAllEvents=async()=>{try{const querySnapshot=await getDocs(collection(db,'events'));return querySnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));}catch(error){console.error('Error getting all events:',error);return[];}};// FAVORITES\nexport const saveFavorite=async(userId,eventId)=>{try{const favRef=doc(db,'users',userId,'favorites',eventId);await setDoc(favRef,{eventId,savedAt:new Date()});}catch(error){console.error('Error saving favorite:',error);throw error;}};export const removeFavorite=async(userId,eventId)=>{try{await deleteDoc(doc(db,'users',userId,'favorites',eventId));}catch(error){console.error('Error removing favorite:',error);throw error;}};export const getUserFavorites=async userId=>{try{const snapshot=await getDocs(collection(db,'users',userId,'favorites'));return snapshot.docs.map(doc=>doc.data().eventId);}catch(error){console.error('Error getting favorites:',error);return[];}};","map":{"version":3,"names":["collection","addDoc","query","where","getDocs","setDoc","deleteDoc","doc","getDoc","db","createUserProfile","userId","userData","name","email","homeCity","homeState","avatar","createdAt","Date","error","console","getUserProfile","docSnap","exists","data","createEvent","eventData","docRef","_objectSpread","updatedAt","id","getEventsByLocation","city","state","q","querySnapshot","docs","map","getAllEvents","saveFavorite","eventId","favRef","savedAt","removeFavorite","getUserFavorites","snapshot"],"sources":["C:/Users/knwin/WhenWinApp10.25/src/services/firebaseServices.js"],"sourcesContent":["import {\r\n  collection,\r\n  addDoc,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  setDoc,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc\r\n} from 'firebase/firestore';\r\nimport { db } from '../firebase/config';\r\n\r\n// USERS\r\nexport const createUserProfile = async (userId, userData) => {\r\n  try {\r\n    await setDoc(doc(db, 'users', userId), {\r\n      name: userData.name,\r\n      email: userData.email,\r\n      homeCity: userData.homeCity,\r\n      homeState: userData.homeState,\r\n      avatar: userData.avatar,\r\n      createdAt: new Date()\r\n    });\r\n  } catch (error) {\r\n    console.error('Error creating user profile:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserProfile = async (userId) => {\r\n  try {\r\n    const docSnap = await getDoc(doc(db, 'users', userId));\r\n    return docSnap.exists() ? docSnap.data() : null;\r\n  } catch (error) {\r\n    console.error('Error getting user profile:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// EVENTS\r\nexport const createEvent = async (eventData) => {\r\n  try {\r\n    const docRef = await addDoc(collection(db, 'events'), {\r\n      ...eventData,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    });\r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error creating event:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getEventsByLocation = async (city, state) => {\r\n  try {\r\n    const q = query(\r\n      collection(db, 'events'),\r\n      where('city', '==', city),\r\n      where('state', '==', state)\r\n    );\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({\r\n      id: doc.id,\r\n      ...doc.data()\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error getting events:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getAllEvents = async () => {\r\n  try {\r\n    const querySnapshot = await getDocs(collection(db, 'events'));\r\n    return querySnapshot.docs.map(doc => ({\r\n      id: doc.id,\r\n      ...doc.data()\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error getting all events:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// FAVORITES\r\nexport const saveFavorite = async (userId, eventId) => {\r\n  try {\r\n    const favRef = doc(db, 'users', userId, 'favorites', eventId);\r\n    await setDoc(favRef, { eventId, savedAt: new Date() });\r\n  } catch (error) {\r\n    console.error('Error saving favorite:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const removeFavorite = async (userId, eventId) => {\r\n  try {\r\n    await deleteDoc(doc(db, 'users', userId, 'favorites', eventId));\r\n  } catch (error) {\r\n    console.error('Error removing favorite:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserFavorites = async (userId) => {\r\n  try {\r\n    const snapshot = await getDocs(collection(db, 'users', userId, 'favorites'));\r\n    return snapshot.docs.map(doc => doc.data().eventId);\r\n  } catch (error) {\r\n    console.error('Error getting favorites:', error);\r\n    return [];\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}