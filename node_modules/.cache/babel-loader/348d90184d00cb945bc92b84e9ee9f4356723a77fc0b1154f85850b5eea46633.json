{"ast":null,"code":"import React from'react';import{formatTime}from'../utils/dateFormatting';import{filterEventsByLocation}from'../utils/eventFiltering';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CalendarScreen=_ref=>{let{currentLocation,setShowLocationPicker,events}=_ref;const locationFilteredEvents=filterEventsByLocation(events,currentLocation.city,currentLocation.state);const today=new Date();const currentMonth=today.getMonth();const currentYear=today.getFullYear();const daysInMonth=new Date(currentYear,currentMonth+1,0).getDate();const firstDayOfMonth=new Date(currentYear,currentMonth,1).getDay();const monthNames=['January','February','March','April','May','June','July','August','September','October','November','December'];const eventDates=locationFilteredEvents.reduce((acc,event)=>{const eventDate=new Date(event.date);if(eventDate.getMonth()===currentMonth&&eventDate.getFullYear()===currentYear){const day=eventDate.getDate();if(!acc[day])acc[day]=[];acc[day].push(event);}return acc;},{});return/*#__PURE__*/_jsxs(\"div\",{className:\"screen-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Calendar\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"location-row\",onClick:()=>setShowLocationPicker(true),children:[/*#__PURE__*/_jsx(\"span\",{className:\"location-icon\",children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"page-subtitle\",children:[currentLocation.city,\", \",currentLocation.state]}),/*#__PURE__*/_jsx(\"span\",{className:\"location-chevron\",children:\"\\u25BC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-card\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"calendar-month\",children:[monthNames[currentMonth],\" \",currentYear]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-grid\",children:[['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"calendar-day-header\",children:/*#__PURE__*/_jsx(\"span\",{className:\"calendar-day-header-text\",children:day})},day)),Array.from({length:firstDayOfMonth},(_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"calendar-day\"},\"empty-\".concat(i))),Array.from({length:daysInMonth},(_,i)=>{const day=i+1;const hasEvents=eventDates[day];const isToday=today.getDate()===day;return/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-day \".concat(isToday?'calendar-day-today':'',\" \").concat(hasEvents?'calendar-day-with-events':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"calendar-day-text \".concat(isToday?'calendar-day-text-today':''),children:day}),hasEvents&&hasEvents.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"event-dots\",children:[hasEvents.slice(0,3).map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"event-dot\"},index)),hasEvents.length>3&&/*#__PURE__*/_jsx(\"span\",{className:\"event-dot-more\",children:\"+\"})]})]},day);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"today-events-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"today-events-title\",children:\"Today's Events\"}),eventDates[today.getDate()]&&eventDates[today.getDate()].length>0?/*#__PURE__*/_jsx(\"div\",{className:\"today-events-list\",children:eventDates[today.getDate()].map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"today-event-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:event.image,alt:event.title,className:\"today-event-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"today-event-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"today-event-title\",children:event.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"today-event-time\",children:[formatTime(event.time),\" \\u2022 \",event.location]})]})]},event.id))}):/*#__PURE__*/_jsxs(\"p\",{className:\"no-events-text\",children:[\"No events today in \",currentLocation.city]})]})]})]});};export default CalendarScreen;","map":{"version":3,"names":["React","formatTime","filterEventsByLocation","jsx","_jsx","jsxs","_jsxs","CalendarScreen","_ref","currentLocation","setShowLocationPicker","events","locationFilteredEvents","city","state","today","Date","currentMonth","getMonth","currentYear","getFullYear","daysInMonth","getDate","firstDayOfMonth","getDay","monthNames","eventDates","reduce","acc","event","eventDate","date","day","push","className","children","onClick","map","Array","from","length","_","i","concat","hasEvents","isToday","slice","index","src","image","alt","title","time","location","id"],"sources":["C:/Users/knwin/WhenWinApp10.25/src/screens/CalendarScreen.js"],"sourcesContent":["import React from 'react';\r\nimport { formatTime } from '../utils/dateFormatting';\r\nimport { filterEventsByLocation } from '../utils/eventFiltering';\r\n\r\nconst CalendarScreen = ({\r\n  currentLocation,\r\n  setShowLocationPicker,\r\n  events\r\n}) => {\r\n  const locationFilteredEvents = filterEventsByLocation(\r\n    events,\r\n    currentLocation.city,\r\n    currentLocation.state\r\n  );\r\n\r\n  const today = new Date();\r\n  const currentMonth = today.getMonth();\r\n  const currentYear = today.getFullYear();\r\n  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\r\n  const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();\r\n\r\n  const monthNames = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const eventDates = locationFilteredEvents.reduce((acc, event) => {\r\n    const eventDate = new Date(event.date);\r\n    if (eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear) {\r\n      const day = eventDate.getDate();\r\n      if (!acc[day]) acc[day] = [];\r\n      acc[day].push(event);\r\n    }\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <div className=\"screen-container\">\r\n      <div className=\"page-header\">\r\n        <h1 className=\"page-title\">Calendar</h1>\r\n        <button\r\n          className=\"location-row\"\r\n          onClick={() => setShowLocationPicker(true)}\r\n        >\r\n          <span className=\"location-icon\">üìç</span>\r\n          <span className=\"page-subtitle\">\r\n            {currentLocation.city}, {currentLocation.state}\r\n          </span>\r\n          <span className=\"location-chevron\">‚ñº</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"calendar-container\">\r\n        <div className=\"calendar-card\">\r\n          <h2 className=\"calendar-month\">\r\n            {monthNames[currentMonth]} {currentYear}\r\n          </h2>\r\n\r\n          <div className=\"calendar-grid\">\r\n            {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n              <div key={day} className=\"calendar-day-header\">\r\n                <span className=\"calendar-day-header-text\">{day}</span>\r\n              </div>\r\n            ))}\r\n\r\n            {Array.from({ length: firstDayOfMonth }, (_, i) => (\r\n              <div key={`empty-${i}`} className=\"calendar-day\"></div>\r\n            ))}\r\n\r\n            {Array.from({ length: daysInMonth }, (_, i) => {\r\n              const day = i + 1;\r\n              const hasEvents = eventDates[day];\r\n              const isToday = today.getDate() === day;\r\n\r\n              return (\r\n                <div\r\n                  key={day}\r\n                  className={`calendar-day ${isToday ? 'calendar-day-today' : ''} ${\r\n                    hasEvents ? 'calendar-day-with-events' : ''\r\n                  }`}\r\n                >\r\n                  <span className={`calendar-day-text ${isToday ? 'calendar-day-text-today' : ''}`}>\r\n                    {day}\r\n                  </span>\r\n                  {hasEvents && hasEvents.length > 0 && (\r\n                    <div className=\"event-dots\">\r\n                      {hasEvents.slice(0, 3).map((_, index) => (\r\n                        <div key={index} className=\"event-dot\" />\r\n                      ))}\r\n                      {hasEvents.length > 3 && <span className=\"event-dot-more\">+</span>}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"today-events-card\">\r\n          <h3 className=\"today-events-title\">Today's Events</h3>\r\n          {eventDates[today.getDate()] && eventDates[today.getDate()].length > 0 ? (\r\n            <div className=\"today-events-list\">\r\n              {eventDates[today.getDate()].map(event => (\r\n                <div key={event.id} className=\"today-event-item\">\r\n                  <img src={event.image} alt={event.title} className=\"today-event-image\" />\r\n                  <div className=\"today-event-info\">\r\n                    <h4 className=\"today-event-title\">{event.title}</h4>\r\n                    <p className=\"today-event-time\">\r\n                      {formatTime(event.time)} ‚Ä¢ {event.location}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"no-events-text\">No events today in {currentLocation.city}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalendarScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}